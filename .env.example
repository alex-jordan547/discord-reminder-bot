# Discord Reminder Bot - Configuration Environment (TypeScript/Node.js)
# Copy this file to .env and fill in your values
# Copiez ce fichier vers .env et remplissez vos valeurs

# ===== REQUIRED / OBLIGATOIRE =====
# Discord bot token (required)
# Token Discord de votre bot (obligatoire)
# Get it from: https://discord.com/developers/applications
DISCORD_TOKEN=your_discord_bot_token_here

# ===== CONFIGURATION DES RAPPELS =====
# Intervalle entre les rappels automatiques (en heures)
# Valeur par défaut: 24 heures
REMINDER_INTERVAL_HOURS=24

# Utiliser un canal séparé pour les rappels (true/false)
# Si false, les rappels sont envoyés dans le même canal que l'evenement
# Valeur par défaut: false
USE_SEPARATE_REMINDER_CHANNEL=false

# Nom du canal pour les rappels (seulement si USE_SEPARATE_REMINDER_CHANNEL=true)
# Le canal sera créé automatiquement s'il n'existe pas
# Valeur par défaut: rappels-events
REMINDER_CHANNEL_NAME=rappels-events

# ===== AUTO-SUPPRESSION DES MESSAGES =====
# Activer l'auto-suppression des messages de rappel (true/false)
# Les messages de rappel seront automatiquement supprimés après un délai configurable
# Valeur par défaut: true
AUTO_DELETE_REMINDERS=true

# Délai en heures avant la suppression automatique des messages de rappel
# Valeurs supportées: 0.0167 (1 min), 0.0333 (2 min), 0.05 (3 min), 0.08 (5 min),
# 0.17 (10 min), 0.25 (15 min), 0.5 (30 min), 1, 2, 6, 12, 24, 48, 72, 168 (7 jours)
# Valeur par défaut: 1 (1 heure)
AUTO_DELETE_DELAY_HOURS=1

# ===== PERMISSIONS =====
# Rôles autorisés à utiliser les commandes administratives
# Séparez plusieurs rôles par des virgules
# Valeur par défaut: Admin,Moderateur,Coach
ADMIN_ROLES=Admin,Moderateur,Coach

# ===== LOGGING =====
# Niveau de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Valeur par défaut: INFO
LOG_LEVEL=INFO

# Sauvegarder les logs dans un fichier (true/false)
# Valeur par défaut: true
LOG_TO_FILE=true

# ===== TIMEZONE =====
# Fuseau horaire pour l'affichage des dates et heures
# Format: IANA timezone identifier (ex: Europe/Paris, America/New_York)
# Valeur par défaut: Europe/Paris
TIMEZONE=Europe/Paris

# Activer les couleurs dans les logs console (true/false)
# Utile pour désactiver les couleurs si votre terminal ne les supporte pas
# Variables spéciales: NO_COLOR=1 (force désactiver), FORCE_COLOR=1 (force activer)
# Valeur par défaut: détection automatique
# LOG_COLORS=true

# ===== MODE TEST (OPTIONNEL) =====
# Mode test avec intervalles courts et commande /help étendue (true/false)
# En mode test : 
#   - Intervalles flexibles de 30 secondes à 7 jours
#   - Commandes slash avec choix étendus (30s, 1min, 2min)
#   - Affichage adapté dans /help
# Utilisez uniquement pour les tests de développement
# Valeur par défaut: false
TEST_MODE=false

# ===== EXEMPLES DE CONFIGURATION =====

# Configuration simple (canal unique):
# DISCORD_TOKEN=your_token_here
# REMINDER_INTERVAL_HOURS=12
# ADMIN_ROLES=Admin,Moderateur

# Configuration avec canal séparé:
# DISCORD_TOKEN=your_token_here
# USE_SEPARATE_REMINDER_CHANNEL=true
# REMINDER_CHANNEL_NAME=event-reminders
# REMINDER_INTERVAL_HOURS=6

# Configuration pour développement/test:
# DISCORD_TOKEN=your_token_here
# TEST_MODE=true
# REMINDER_INTERVAL_HOURS=0.0167  # 1 minute pour tests rapides
# LOG_LEVEL=DEBUG

# Configuration pour tests ultra-rapides:
# DISCORD_TOKEN=your_token_here
# TEST_MODE=true
# REMINDER_INTERVAL_HOURS=0.0083  # 30 secondes
# LOG_LEVEL=DEBUG
# LOG_TO_FILE=true

# ===== RÉCUPÉRATION D'ERREURS (NOUVEAU) =====
# Configuration du système de récupération d'erreurs et retry

# Nombre maximum de tentatives de retry pour les appels Discord API
# Valeur par défaut: 3
ERROR_RECOVERY_MAX_RETRIES=3

# Délai de base en secondes pour le retry avec exponential backoff
# Valeur par défaut: 1.5
ERROR_RECOVERY_BASE_DELAY=1.5

# Délai maximum en secondes entre les retries
# Valeur par défaut: 60
ERROR_RECOVERY_MAX_DELAY=60

# Activer les statistiques détaillées de récupération d'erreurs (true/false)
# Valeur par défaut: true
ERROR_RECOVERY_ENABLE_STATS=true

# ===== DATABASE CONFIGURATION =====
# Use SQLite database instead of JSON file storage (true/false)
# Default: false
USE_SQLITE=false

# Path to SQLite database file
# Default: discord_bot.db
DATABASE_PATH=discord_bot.db

# Enable automatic migration from JSON to SQLite (true/false)
# Default: true
AUTO_MIGRATE=false

# Backup JSON file when migrating to SQLite (true/false)
# Default: true
BACKUP_JSON_ON_MIGRATION=false

# ===== FEATURE FLAGS CONFIGURATION =====
# Enable feature flags system (true/false)
# Default: true
ENABLE_FEATURE_FLAGS=true

# Enable automatic fallback to JSON when SQLite fails (true/false)
# Default: true
ENABLE_AUTO_FALLBACK=true

# Enable health monitoring (true/false)
# Default: true
ENABLE_HEALTH_MONITORING=true

# SQLite Feature Flags (only used when USE_SQLITE=true)
SQLITE_STORAGE_ENABLED=true
SQLITE_MIGRATION_ENABLED=true
SQLITE_SCHEDULER_ENABLED=true
SQLITE_CONCURRENCY_ENABLED=true
SQLITE_MONITORING_ENABLED=true
SQLITE_BACKUP_ENABLED=true

# ===== FALLBACK CONFIGURATION =====
# Enable automatic fallback system (true/false)
# Default: true
AUTO_FALLBACK_ENABLED=true

# Enable degraded mode when critical failures occur (true/false)
# Default: false
DEGRADED_MODE_ENABLED=false

# Enable strict validation mode (true/false)
# Default: true
STRICT_VALIDATION_ENABLED=true

# Retry delay in minutes before attempting to re-enable failed features
# Default: 30
FALLBACK_RETRY_DELAY_MINUTES=30

# Maximum number of fallback retries before giving up
# Default: 3
MAX_FALLBACK_RETRIES=3

# Timeout in hours before exiting degraded mode
# Default: 24
DEGRADED_MODE_TIMEOUT_HOURS=24

# ===== LOGGING COLORS (TypeScript/Node.js) =====
# Force enable colors in logs (overrides auto-detection)
# Default: auto-detected
FORCE_COLOR=false

# Force disable colors in logs (overrides all other settings)
# Default: auto-detected
NO_COLOR=false

# Enable colored logs (when supported)
# Default: auto-detected based on terminal capabilities
LOG_COLORS=true