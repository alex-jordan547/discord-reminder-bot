# Production Environment Configuration
# =====================================
# SECURITY WARNING: This file contains sensitive information
# - Never commit this file to version control
# - Store securely with proper access controls
# - Use environment-specific values for each deployment

# ===========================================
# CRITICAL SECURITY SETTINGS - CHANGE THESE!
# ===========================================

# Discord Bot Token (REQUIRED)
# Get from: https://discord.com/developers/applications
DISCORD_TOKEN=your_production_discord_bot_token_here

# Database Passwords (CHANGE IN PRODUCTION!)
POSTGRES_PASSWORD=very_secure_production_password_here
REDIS_PASSWORD=secure_redis_password_here

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# Primary database type for production
DATABASE_TYPE=postgres

# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=discord_bot
POSTGRES_USER=bot_user
POSTGRES_SSL=false
POSTGRES_CONNECTION_TIMEOUT=30000
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_FAILOVER_TO_SQLITE=true

# SQLite Fallback (for emergency failover)
DATABASE_PATH=./data/discord_bot.db

# ===========================================
# REDIS CONFIGURATION
# ===========================================

# Redis Cache and Session Store
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_KEY_PREFIX=discord_bot:prod:

# Session Configuration
SESSION_SECRET=change_this_to_a_very_secure_random_string_in_production
SESSION_MAX_AGE=86400000
SESSION_SECURE=true

# ===========================================
# MONITORING DASHBOARD
# ===========================================

# Dashboard Configuration
ENABLE_DASHBOARD=true
DASHBOARD_PORT=3000
DASHBOARD_HOST=0.0.0.0

# API Authentication (CHANGE IN PRODUCTION!)
API_TOKEN_SECRET=change_this_to_a_very_secure_jwt_secret_in_production
API_RATE_LIMIT_MAX=1000
API_RATE_LIMIT_WINDOW=900000

# Dashboard Authentication
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=change_this_secure_dashboard_password
DASHBOARD_SESSION_SECRET=change_this_dashboard_session_secret

# ===========================================
# BOT CONFIGURATION
# ===========================================

# Reminder Settings
REMINDER_INTERVAL_HOURS=24
USE_SEPARATE_REMINDER_CHANNEL=false
REMINDER_CHANNEL_NAME=rappels-events

# Auto-deletion Settings
AUTO_DELETE_REMINDERS=true
AUTO_DELETE_DELAY_HOURS=1

# Permission Configuration (adjust for your server)
ADMIN_ROLES=Admin,Moderateur,Coach,Owner

# ===========================================
# LOGGING AND MONITORING
# ===========================================

# Logging Configuration
LOG_LEVEL=INFO
LOG_TO_FILE=true
LOG_COLORS=false
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=10
LOG_DATE_PATTERN=YYYY-MM-DD

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_DIR=./logs/audit
AUDIT_LOG_RETENTION_DAYS=90

# Error Reporting
ERROR_REPORTING_ENABLED=true
ERROR_REPORTING_WEBHOOK=https://your-monitoring-system.com/webhook
ERROR_REPORTING_EMAIL=admin@yourcompany.com

# Performance Monitoring
METRICS_COLLECTION_ENABLED=true
METRICS_RETENTION_DAYS=30
METRICS_COLLECTION_INTERVAL=30000

# ===========================================
# ERROR RECOVERY
# ===========================================

# Error Recovery Configuration
ERROR_RECOVERY_MAX_RETRIES=5
ERROR_RECOVERY_BASE_DELAY=2.0
ERROR_RECOVERY_MAX_DELAY=120
ERROR_RECOVERY_ENABLE_STATS=true
ERROR_RECOVERY_NOTIFY_THRESHOLD=10

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Automated Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here

# Backup Storage
BACKUP_STORAGE_TYPE=local
BACKUP_LOCAL_PATH=./backups
# BACKUP_S3_BUCKET=your-backup-bucket
# BACKUP_S3_REGION=us-east-1
# BACKUP_S3_ACCESS_KEY=your-access-key
# BACKUP_S3_SECRET_KEY=your-secret-key

# ===========================================
# ALERTING CONFIGURATION
# ===========================================

# Alert Thresholds
ALERT_MEMORY_WARNING=80
ALERT_MEMORY_CRITICAL=90
ALERT_CPU_WARNING=75
ALERT_CPU_CRITICAL=90
ALERT_DISK_WARNING=85
ALERT_DISK_CRITICAL=95
ALERT_RESPONSE_TIME_WARNING=5000
ALERT_RESPONSE_TIME_CRITICAL=10000

# Notification Channels
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_SMTP_HOST=smtp.yourcompany.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USER=alerts@yourcompany.com
ALERT_EMAIL_PASSWORD=your_smtp_password
ALERT_EMAIL_TO=admin@yourcompany.com,ops@yourcompany.com

ALERT_WEBHOOK_ENABLED=true
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_WEBHOOK_CHANNEL=#alerts

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# Security Headers
SECURITY_HSTS_ENABLED=true
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CSP_ENABLED=true
SECURITY_RATE_LIMITING=true

# File Upload Security
FILE_UPLOAD_MAX_SIZE=52428800
FILE_UPLOAD_ALLOWED_TYPES=.db,.json,.csv,.sql
FILE_UPLOAD_QUARANTINE_ENABLED=true
FILE_UPLOAD_VIRUS_SCAN_ENABLED=true

# Network Security
TRUSTED_PROXIES=127.0.0.1,::1
CORS_ORIGIN=https://your-domain.com
CORS_CREDENTIALS=true

# ===========================================
# PRODUCTION ENVIRONMENT
# ===========================================

# Environment
NODE_ENV=production
TZ=Europe/Paris
PORT=3000

# Process Management
PM2_INSTANCES=max
PM2_EXEC_MODE=cluster
PM2_MAX_MEMORY_RESTART=1024M
PM2_RESTART_DELAY=5000

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_RETRIES=3

# ===========================================
# FEATURE FLAGS
# ===========================================

# Optional Features
TEST_MODE=false
DEBUG_MODE=false
MAINTENANCE_MODE=false
MIGRATION_MODE=false

# Beta Features
BETA_FEATURES_ENABLED=false
BETA_ADVANCED_METRICS=false
BETA_AI_INSIGHTS=false

# ===========================================
# PERFORMANCE TUNING
# ===========================================

# Node.js Performance
NODE_OPTIONS=--max-old-space-size=1024 --optimize-for-size

# Database Performance
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE=30000
DB_QUERY_TIMEOUT=30000

# Redis Performance
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_MAX_RETRIES=3

# WebSocket Performance
WS_MAX_CONNECTIONS=100
WS_HEARTBEAT_INTERVAL=30000
WS_COMPRESSION=true

# ===========================================
# EXTERNAL INTEGRATIONS
# ===========================================

# Discord API Settings
DISCORD_API_VERSION=10
DISCORD_API_TIMEOUT=30000
DISCORD_API_RETRIES=3
DISCORD_GATEWAY_INTENTS=32767

# Webhook Integrations
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRIES=3
WEBHOOK_USER_AGENT=DiscordReminderBot/2.0

# ===========================================
# COMPLIANCE AND PRIVACY
# ===========================================

# Data Retention
DATA_RETENTION_ENABLED=true
DATA_RETENTION_DAYS=365
DATA_ANONYMIZATION_ENABLED=true

# Privacy Settings
PRIVACY_LOGGING_ENABLED=false
PRIVACY_IP_ANONYMIZATION=true
PRIVACY_USER_DATA_ENCRYPTION=true

# GDPR Compliance
GDPR_ENABLED=true
GDPR_DATA_CONTROLLER=Your Company Name
GDPR_CONTACT_EMAIL=privacy@yourcompany.com
GDPR_RETENTION_POLICY_URL=https://yourcompany.com/privacy

# ===========================================
# MONITORING INTEGRATIONS
# ===========================================

# External Monitoring
EXTERNAL_MONITORING_ENABLED=true
EXTERNAL_MONITORING_URL=https://your-monitoring.com/api/heartbeat
EXTERNAL_MONITORING_TOKEN=your_monitoring_token
EXTERNAL_MONITORING_INTERVAL=60000

# APM Integration
APM_ENABLED=false
# APM_SERVICE_NAME=discord-reminder-bot
# APM_SERVICE_VERSION=2.0.0
# APM_ENVIRONMENT=production
# APM_SERVER_URL=https://your-apm-server.com

# Metrics Export
METRICS_EXPORT_ENABLED=false
# METRICS_EXPORT_TYPE=prometheus
# METRICS_EXPORT_PORT=9090
# METRICS_EXPORT_PATH=/metrics

# ===========================================
# MAINTENANCE AND OPERATIONS
# ===========================================

# Maintenance Windows
MAINTENANCE_WINDOW_ENABLED=false
MAINTENANCE_WINDOW_START=02:00
MAINTENANCE_WINDOW_END=04:00
MAINTENANCE_WINDOW_TIMEZONE=Europe/Paris

# Operational Contacts
OPS_CONTACT_EMAIL=ops@yourcompany.com
OPS_CONTACT_PHONE=+1234567890
OPS_ESCALATION_EMAIL=escalation@yourcompany.com

# Documentation
DOCS_URL=https://docs.yourcompany.com/discord-bot
SUPPORT_URL=https://support.yourcompany.com
STATUS_PAGE_URL=https://status.yourcompany.com