# Configuration stricte de Flake8 pour Discord Reminder Bot - Assurance Qualité Phase 6

[flake8]
# Maximum line length - aligné sur Black
max-line-length = 100

# Erreurs et warnings à vérifier STRICTEMENT pour ≥90% qualité
select = 
    # Erreurs de syntaxe et problèmes critiques
    E9,F63,F7,F82,
    # Erreurs de style PEP8 importantes
    E1,E2,E4,E7,
    # Warnings PyFlakes (imports inutilisés, variables non définies)
    F,
    # Erreurs de complexité
    C90,
    # Warnings flake8-bugbear (bugs potentiels)
    B

# Ignorer seulement les conflits avec Black et cas spéciaux
ignore = 
    # E501: Line too long (géré par black)
    E501,
    # W503: Line break before binary operator (conflit avec black)
    W503,
    # E203: Whitespace before ':' (conflit avec black)
    E203,
    # B008: Function calls in argument defaults (pattern courant)
    B008

# Exclude directories and files from checking
exclude = 
    .git,
    __pycache__,
    .venv,
    venv,
    env,
    build,
    dist,
    *.pyc,
    *.egg-info,
    .eggs,
    htmlcov,
    .pytest_cache,
    node_modules,
    src,
    staging_environment,
    temp_*

# Complexité maximale STRICTE pour assurance qualité
max-complexity = 8

# Configuration détaillée pour reporting
statistics = true
count = true
show-source = true
format = %(path)s:%(row)d:%(col)d: %(code)s %(text)s

# Configuration import-order
application-import-names = bot,commands,config,models,persistence,utils
import-order-style = pep8

# Configuration per-file pour flexibilité ciblée
per-file-ignores =
    # Tests - moins stricts sur la complexité
    tests/*:C901,
    # __init__.py - imports non utilisés OK
    __init__.py:F401,
    # Scripts de migration - flexibilité temporaire
    */migrations/*:E402,F401,
    # Configuration de test
    conftest.py:F401
